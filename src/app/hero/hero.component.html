<section class="relative min-h-screen bg-cover bg-center flex items-center overflow-x-hidden overflow-y-hidden"
        >
 <div class="absolute inset-0">
        <div
          *ngFor="let image of backgroundImages; let i = index"
          class="absolute inset-0 bg-cover bg-center transition-all duration-1000 ease-in-out"
          [style.background-image]="'url(' + image + ')'"
          [class.opacity-100]="i === currentImageIndex"
          [class.opacity-0]="i !== currentImageIndex"
          [class.animate-zoom-in]="i === currentImageIndex && isAnimating"
          [class.animate-zoom-out]="i !== currentImageIndex && wasActive[i]"
        ></div>
      </div>

      <!-- Dark overlay for better text readability -->
      <div class="absolute inset-0 bg-black/40 transition-opacity duration-1000"></div>

  <!-- Main content container -->
  <div class="relative z-10 w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex flex-col lg:flex-row items-center justify-between gap-6 lg:gap-12">

      <!-- Left side - Hero text -->
      <div class="flex-1 text-center lg:text-left py-6 sm:py-0">
        <h2 class="text-1xl sm:text-4xl lg:text-5xl xl:text-6xl font-bold font-exo text-white mb-4 leading-tight">
          <span class="block text-primary">Welcome to</span>
          <span class="block text-primary">
            H&B Elite Properties
          </span>
        </h2>
        <p class="text-xl sm:text-xl lg:text-2xl text-secondary font-light max-w-2xl">
          {{"Your Gateway to Elite Real Estate in Dubai" | letterByLetter:100 | async}}
        </p>
      </div>

      <!-- Right side - Contact form -->
      <div class="w-full max-w-md lg:max-w-lg  mb-2 sm:mt-14 sm:mb-0">
        <div class="bg-white/95 dark:bg-dark-background backdrop-blur-sm rounded-2xl shadow-2xl p-6 lg:p-8">
          <h2 class="text-2xl lg:text-3xl font-bold text-primary mb-6 text-center">
            Find Your Property
          </h2>

         <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" class="space-y-4">
  <!-- Name input -->
  <div>
    <input
      id="fullName"
      type="text"
      placeholder="Your Name"
      formControlName="fullName"
      class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-primary focus:outline-none transition-colors text-gray-700 placeholder-gray-400"
      [class.border-red-500]="
        contactForm.get('fullName')?.invalid &&
        contactForm.get('fullName')?.touched
      "
    />
    <div
      *ngIf="
        contactForm.get('fullName')?.invalid &&
        contactForm.get('fullName')?.touched
      "
      class="mt-1 text-sm text-error"
    >
      <span *ngIf="contactForm.get('fullName')?.errors?.['required']">
        Full name is required
      </span>
      <span *ngIf="contactForm.get('fullName')?.errors?.['minlength']">
        Full name must be at least 2 characters
      </span>
    </div>
  </div>

  <!-- Phone input -->
  <div>
    <input
      id="phoneNumber"
      type="tel"
      placeholder="Phone Number"
      formControlName="phoneNumber"
      class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-primary focus:outline-none transition-colors text-gray-700 placeholder-gray-400"
      [class.border-red-500]="
        contactForm.get('phoneNumber')?.invalid &&
        contactForm.get('phoneNumber')?.touched
      "
    />
    <div
      *ngIf="
        contactForm.get('phoneNumber')?.invalid &&
        contactForm.get('phoneNumber')?.touched
      "
      class="mt-1 text-sm text-error"
    >
      <span *ngIf="contactForm.get('phoneNumber')?.errors?.['required']">
        Phone number is required
      </span>
      <span *ngIf="contactForm.get('phoneNumber')?.errors?.['pattern']">
        Please enter a valid phone number
      </span>
    </div>
  </div>

  <!-- Email input -->
  <div>
    <input
      id="email"
      type="email"
      placeholder="Your Email"
      formControlName="email"
      class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-primary focus:outline-none transition-colors text-gray-700 placeholder-gray-400"
      [class.border-red-500]="
        contactForm.get('email')?.invalid &&
        contactForm.get('email')?.touched
      "
    />
    <div
      *ngIf="
        contactForm.get('email')?.invalid &&
        contactForm.get('email')?.touched
      "
      class="mt-1 text-sm text-error"
    >
      <span *ngIf="contactForm.get('email')?.errors?.['required']">
        Email is required
      </span>
      <span *ngIf="contactForm.get('email')?.errors?.['email']">
        Please enter a valid email address
      </span>
    </div>
  </div>

  <!-- Country dropdown -->
  <div class="relative">
    <label id="property-interest-label" class="sr-only">Country</label>
    <select
      id="country"
      formControlName="country"
      aria-labelledby="property-interest-label"
      class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-primary focus:outline-none transition-colors text-gray-700 appearance-none bg-white"
      [class.border-red-500]="
        contactForm.get('country')?.invalid &&
        contactForm.get('country')?.touched
      "
    >
      <option value="">Select your country</option>
      <option *ngFor="let country of countries" [value]="country.name">
        {{ country.name }}
      </option>
    </select>
    <div
      *ngIf="
        contactForm.get('country')?.invalid &&
        contactForm.get('country')?.touched
      "
      class="mt-1 text-sm text-error"
    >
      <span *ngIf="contactForm.get('country')?.errors?.['required']">
        Please select a country
      </span>
    </div>
    <div class="absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none">
      <svg class="w-4 h-4 fill-current text-gray-400" viewBox="0 0 20 20">
        <path
          d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 
          1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
        />
      </svg>
    </div>
  </div>

  <!-- Property dropdown -->
  <div class="relative">
    <label id="property-type-label" class="sr-only">
      What type of property are you looking for ?
    </label>
    <select
      id="property"
      formControlName="property"
      aria-labelledby="property-type-label"
      class="w-full px-4 py-3 border-2 border-gray-200 rounded-lg focus:border-primary focus:outline-none transition-colors text-gray-700 appearance-none bg-white"
      [class.border-red-500]="
        contactForm.get('property')?.invalid &&
        contactForm.get('property')?.touched
      "
    >
      <option value="">What type of property are you looking for?</option>
      <option *ngFor="let property of mockProperties" [value]="property.name">
        {{ property.name }}
      </option>
    </select>
    <div
      *ngIf="
        contactForm.get('property')?.invalid &&
        contactForm.get('property')?.touched
      "
      class="mt-1 text-sm text-error"
    >
      <span *ngIf="contactForm.get('property')?.errors?.['required']">
        Please select a property
      </span>
    </div>
    <div class="absolute inset-y-0 right-0 flex items-center px-2 pointer-events-none">
      <svg class="w-4 h-4 fill-current text-gray-400" viewBox="0 0 20 20">
        <path
          d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 
          1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
        />
      </svg>
    </div>
  </div>

  <!-- Submit button -->
  <button
    type="submit"
    [disabled]="contactForm.invalid || isLoading"
    class="w-full disabled:text-gray-300 disabled:bg-gray-200 disabled:cursor-not-allowed disabled:border-[#FFFFFF] bg-primary hover:from-primary hover:to-amber-800 text-white font-semibold py-3 px-6 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl"
  >
    <div *ngIf="isLoading" class="flex items-center">
      <svg
        class="animate-spin -ml-1 mr-3 h-5 w-5 text-white"
        xmlns="http://www.w3.org/2000/svg"
        fill="none"
        viewBox="0 0 24 24"
      >
        <circle
          class="opacity-25"
          cx="12"
          cy="12"
          r="10"
          stroke="currentColor"
          stroke-width="4"
        ></circle>
        <path
          class="opacity-75"
          fill="currentColor"
          d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 
              5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 
              7.938l3-2.647z"
        ></path>
      </svg>
      Sending...
    </div>
    <span *ngIf="!isLoading">Send Enquiry</span>
  </button>
</form>

        </div>
      </div>
    </div>
  </div>
   <div class="absolute top-20 left-10 w-2 h-2 bg-amber-400 rounded-full animate-pulse opacity-70"></div>
  <div class="absolute top-40 right-20 w-1 h-1 bg-white rounded-full animate-ping opacity-50"></div>
  <div class="absolute bottom-32 left-20 w-1.5 h-1.5 bg-amber-300 rounded-full animate-bounce opacity-60"></div>
</section>

